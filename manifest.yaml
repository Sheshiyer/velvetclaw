# VelvetClaw Organization Manifest
# This file defines the complete agent organization structure.
# Used by the org-bootstrap skill to self-assemble the deployment.

version: "2.0.0"
schema: "org-manifest/v2"

org:
  name: "VelvetClaw"
  description: "Multi-agent autonomous organization for content, research, development, and design"

  hierarchy:
    chief:
      agent: jarvis
      role: "Chief Strategy Officer"
      capabilities:
        - strategic-planning
        - task-orchestration
      delegates_to:
        - research
        - content
        - development
        - design
        - user-success
        - product

    departments:
      research:
        name: "Research"
        icon: "magnifying-glass"
        lead: atlas
        members:
          - trendy
        shared_vault: true
        description: "Deep research, web intelligence, and trend analysis"

      content:
        name: "Content"
        icon: "pencil"
        lead: scribe
        members: []
        shared_vault: true
        description: "Content creation, voice analysis, and editorial direction"

      development:
        name: "Development"
        icon: "terminal"
        lead: clawd
        members:
          - sentinel
        shared_vault: true
        description: "Full-stack development, code review, and quality assurance"

      design:
        name: "Design"
        icon: "palette"
        lead: pixel
        members:
          - nova
          - vibe
        shared_vault: true
        description: "Visual design, video production, and motion graphics"

      user-success:
        name: "User Success"
        icon: "rocket"
        lead: sage
        members: []
        shared_vault: true
        description: "User segmentation, personalized communication, and engagement"

      product:
        name: "Product"
        icon: "trident"
        lead: clip
        members: []
        shared_vault: true
        description: "Video clipping, caption generation, and product content"

  coordination:
    method: "shared-vault"
    heartbeat: "5m"
    escalation_chain:
      - department-lead
      - jarvis
      - owner
    task_routing:
      default: jarvis
      by_tag:
        research: research
        content: content
        code: development
        design: design
        video: design
        user: user-success
        clip: product

  models:
    default:
      primary: "openai/gpt-5.3-codex"
      fallback: "google-gemini-cli/gemini-2.5-flash"
      thinking: "high"

# Stage 2: Autonomous Loop Infrastructure
  loop:
    enabled: true
    description: "Cron-triggered short cycles — agents read tasks, work one step, write results, skip on block"
    intervals:
      tier_1: "5m"       # Chief (JARVIS): 96 runs/8h
      tier_2_lead: "10m"  # Department leads: 48 runs/8h
      tier_2_member: "15m" # Members: 32 runs/8h
    resilience:
      on_blocked: log_and_skip
      on_failure: log_skip_continue
      retry_blocked_after: 3
      error_becomes_context: true
    agent_files:
      stage_1: [MANIFEST.yaml, IDENTITY.md, SOUL.md, MEMORY.md]
      stage_2: [TASKS.md, CONTEXT.md, TOOLS.md, USER.md, HEARTBEAT.md, AGENTS.md, EVOLVE.md]

  evolution:
    enabled: true
    schedule: "weekly"
    cron: "0 0 * * 0"
    questions_per_cycle: 20
    pressure_prompts: 25
    description: "Weekly self-evolution — pressure prompts + interaction questions = continuous refinement"

  vault:
    enabled: true
    description: "Shared file-based vault for cross-agent deliverables and handoffs"
    base_path: "vault/"
    departments:
      research: "vault/research/"
      content: "vault/content/"
      development: "vault/development/"
      design: "vault/design/"
      user-success: "vault/user-success/"
      product: "vault/product/"
    handoffs: "vault/handoffs/"
    routing:
      description: "Agents write deliverables to their department vault. Cross-department handoffs go to vault/handoffs/"
      inbox_pattern: "Each agent has INBOX.md — other agents append tasks there for cross-agent assignment"
